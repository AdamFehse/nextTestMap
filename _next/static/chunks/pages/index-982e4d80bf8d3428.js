(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1493)}])},1493:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var a=r(5893),n=r(9008),o=r.n(n),s=r(7294),i=r(5152),c=r.n(i);let l=c()(()=>Promise.all([r.e(269),r.e(614)]).then(r.bind(r,8614)),{loadableGenerated:{webpack:()=>[8614]},ssr:!1});var d=(0,s.forwardRef)((e,t)=>{let r=s.useRef(null);return(0,s.useImperativeHandle)(t,()=>({flyTo:(e,t)=>{r.current&&r.current.flyTo([e,t],14)}})),(0,a.jsx)("div",{style:{width:"100%",height:"100vh"},children:(0,a.jsx)(l,{ref:r,...e,options:{maxZoom:19,minZoom:7,maxBounds:[[31.218894,-111.938791],[32.660329,-109.910668]],maxBoundsViscosity:1,zoomControl:!0,scrollWheelZoom:!0}})})}),h=r(8591),u=r(3680),j=r(9159),p=r.n(j),Sidebar_Sidebar=e=>{let{projects:t,filteredProjects:r,setFilteredProjects:n,mapRef:o}=e,[i,c]=(0,s.useState)(!1),[l,d]=(0,s.useState)(""),handleToggle=()=>c(!i),handleCategoryClick=e=>{if(d(e),e){let r=t.filter(t=>t["Project Category"]===e);n(r)}else n(t)},handleProjectClick=e=>{let{Latitude:t,Longitude:r}=e,a=parseFloat(t),n=parseFloat(r);isNaN(a)||isNaN(n)||o.current.flyTo(a,n)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.Z,{show:i,onHide:handleToggle,placement:"end",children:[(0,a.jsx)(h.Z.Header,{closeButton:!0,children:(0,a.jsx)(h.Z.Title,{children:"Project Categories"})}),(0,a.jsxs)(h.Z.Body,{children:[(0,a.jsxs)("div",{className:p().categoryButtons,children:[(0,a.jsx)(u.Z,{variant:"Art-Based Projects"===l?"primary":"secondary",onClick:()=>handleCategoryClick("Art-Based Projects"),children:"Art-Based Projects"}),(0,a.jsx)(u.Z,{variant:"Research Projects"===l?"primary":"secondary",onClick:()=>handleCategoryClick("Research Projects"),children:"Research Projects"}),(0,a.jsx)(u.Z,{variant:"Education and Community Outreach"===l?"primary":"secondary",onClick:()=>handleCategoryClick("Education and Community Outreach"),children:"Education and Community Outreach"}),(0,a.jsx)(u.Z,{variant:""===l?"primary":"secondary",onClick:()=>handleCategoryClick(""),children:"All Projects"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{children:l?"".concat(l," Projects"):"All Projects"}),r.length>0?(0,a.jsx)("ul",{children:r.map((e,t)=>{let r=parseFloat(e.Latitude),n=parseFloat(e.Longitude);return(0,a.jsxs)("li",{onClick:()=>handleProjectClick(r,n),children:[(0,a.jsx)("strong",{children:e["Project Name"]}),(0,a.jsx)("br",{}),e.DescriptionShort]},t)})}):(0,a.jsx)("p",{children:"No projects to display"})]})]})]}),(0,a.jsx)(u.Z,{variant:"primary",onClick:handleToggle,className:"".concat(p().sidebarButton," ").concat(i?p().hidden:""),children:i?"":"Open Sidebar"})]})},m=r(7460),x=r.n(m),_=r(9410),f=r.n(_);let y=[31.244725,-111.060728];function Home(){let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)([]),i=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let loadCsvData=async()=>{let e=await fetch("/storymapdata.csv"),r=await e.text();x().parse(r,{header:!0,skipEmptyLines:!0,complete:e=>{t(e.data),n(e.data)}})};loadCsvData()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Next.js Leaflet Starter"}),(0,a.jsx)("meta",{name:"description",content:"Create mapping apps with Next.js Leaflet Starter"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(Sidebar_Sidebar,{projects:e,filteredProjects:r,setFilteredProjects:n,mapRef:i}),(0,a.jsx)("div",{className:f().homeMapContainer,style:{position:"relative"},children:(0,a.jsx)(d,{className:f().homeMap,center:y,zoom:9,projects:r,ref:i,children:e=>{let{TileLayer:t,Marker:n,Popup:o}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.map((e,t)=>{let r=parseFloat(e.Latitude),s=parseFloat(e.Longitude);return isNaN(r)||isNaN(s)?null:(0,a.jsx)(n,{position:[r,s],children:(0,a.jsxs)(o,{children:[(0,a.jsx)("strong",{children:e["Project Name"]}),(0,a.jsx)("br",{}),e.DescriptionShort]})},t)})]})}})})]})}},9159:function(e){e.exports={sidebarButton:"Sidebar_sidebarButton__mBMbF",hidden:"Sidebar_hidden__PZkfn",categoryButtons:"Sidebar_categoryButtons__D3eho"}},9410:function(e){e.exports={title:"Home_title__qpuAf",description:"Home_description___6u6j",view:"Home_view__FF9wH",code:"Home_code__8OdLc"}}},function(e){e.O(0,[41,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);